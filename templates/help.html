{% extends "base.html" %}

{% block title %}Ayuda - CuentasClaras{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Header -->
    <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-gray-900 mb-4">ğŸ“š Centro de Ayuda</h1>
        <p class="text-lg text-gray-600">GuÃ­a completa para usar CuentasClaras</p>
    </div>

    <!-- Tabla de Contenidos -->
    <div class="bg-green-50 rounded-xl p-6 mb-8">
        <h2 class="text-xl font-bold text-gray-900 mb-4">ğŸ“‹ Contenidos</h2>
        <ul class="space-y-2">
            <li><a href="#introduccion" class="text-green-600 hover:text-green-700 font-semibold">â†’ IntroducciÃ³n</a></li>
            <li><a href="#crear-deudor" class="text-green-600 hover:text-green-700 font-semibold">â†’ Crear un Deudor</a></li>
            <li><a href="#agregar-deuda" class="text-green-600 hover:text-green-700 font-semibold">â†’ Agregar Deudas</a></li>
            <li><a href="#evidencias" class="text-green-600 hover:text-green-700 font-semibold">â†’ Evidencias de Pago</a></li>
            <li><a href="#cuotas" class="text-green-600 hover:text-green-700 font-semibold">â†’ Sistema de Cuotas</a></li>
            <li><a href="#kpis" class="text-green-600 hover:text-green-700 font-semibold">â†’ Entender los KPIs</a></li>
            <li><a href="#buscador" class="text-green-600 hover:text-green-700 font-semibold">â†’ Usar el Buscador y Filtros</a></li>
            <li><a href="#exportar" class="text-green-600 hover:text-green-700 font-semibold">â†’ Exportar a PDF</a></li>
            <li><a href="#perfil" class="text-green-600 hover:text-green-700 font-semibold">â†’ Configurar tu Perfil</a></li>
        </ul>
    </div>

    <!-- SecciÃ³n: IntroducciÃ³n -->
    <section id="introduccion" class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sm:p-8 mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
            <span class="text-3xl">ğŸš€</span> IntroducciÃ³n
        </h2>
        <div class="prose prose-green max-w-none">
            <p class="text-gray-700 mb-4">
                <strong>CuentasClaras</strong> es una aplicaciÃ³n web diseÃ±ada para ayudarte a gestionar prÃ©stamos personales y hacer seguimiento de las deudas de manera simple y organizada.
            </p>
            <p class="text-gray-700 mb-4">
                Con CuentasClaras puedes:
            </p>
            <ul class="list-disc list-inside space-y-2 text-gray-700 mb-4">
                <li>Registrar personas que te deben dinero (deudores)</li>
                <li>Crear mÃºltiples deudas por cada deudor</li>
                <li>Hacer seguimiento de pagos con o sin cuotas</li>
                <li>Visualizar estadÃ­sticas en tiempo real</li>
                <li>Exportar reportes profesionales en PDF</li>
                <li>Usar monedas mÃºltiples (CLP, USD, BRL)</li>
            </ul>
        </div>
    </section>

    <!-- SecciÃ³n: Crear Deudor -->
    <section id="crear-deudor" class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sm:p-8 mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
            <span class="text-3xl">ğŸ‘¤</span> Crear un Deudor
        </h2>
        <div class="space-y-4">
            <p class="text-gray-700">
                Un <strong>deudor</strong> es una persona que te debe dinero. Cada deudor puede tener mÃºltiples deudas asociadas.
            </p>
            
            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                <h3 class="font-bold text-blue-900 mb-2">ğŸ“ Pasos para crear un deudor:</h3>
                <ol class="list-decimal list-inside space-y-2 text-gray-700">
                    <li>Ve al <strong>Dashboard</strong> desde el menÃº superior</li>
                    <li>Haz clic en el botÃ³n verde <strong>"Agregar Deudor"</strong></li>
                    <li>Completa el formulario:
                        <ul class="list-disc list-inside ml-6 mt-2 space-y-1">
                            <li><strong>Nombre</strong>: Campo obligatorio (*)</li>
                            <li><strong>TelÃ©fono</strong>: Opcional - Ãºtil para contactar</li>
                            <li><strong>Email</strong>: Opcional - para enviar recordatorios</li>
                        </ul>
                    </li>
                    <li>Haz clic en <strong>"Agregar"</strong></li>
                </ol>
            </div>

            <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded">
                <p class="text-green-900">
                    <strong>ğŸ’¡ Consejo:</strong> Solo el nombre es obligatorio. Puedes agregar el telÃ©fono y email despuÃ©s editando el deudor.
                </p>
            </div>
        </div>
    </section>

    <!-- SecciÃ³n: Agregar Deuda -->
    <section id="agregar-deuda" class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sm:p-8 mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
            <span class="text-3xl">ğŸ’°</span> Agregar Deudas
        </h2>
        <div class="space-y-4">
            <p class="text-gray-700">
                Una vez que tienes un deudor registrado, puedes agregarle una o mÃ¡s deudas.
            </p>
            
            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                <h3 class="font-bold text-blue-900 mb-2">ğŸ“ Pasos para agregar una deuda:</h3>
                <ol class="list-decimal list-inside space-y-2 text-gray-700">
                    <li>Haz clic en <strong>"Ver Detalles"</strong> de un deudor</li>
                    <li>Presiona el botÃ³n verde <strong>"Agregar Deuda"</strong></li>
                    <li>Completa el formulario:
                        <ul class="list-disc list-inside ml-6 mt-2 space-y-1">
                            <li><strong>Monto</strong>: Cantidad prestada (obligatorio)</li>
                            <li><strong>Fecha Inicial</strong>: CuÃ¡ndo se realizÃ³ el prÃ©stamo</li>
                            <li><strong>Â¿Pago en cuotas?</strong>: Marca si serÃ¡ pagado en cuotas</li>
                            <li><strong>NÃºmero de Cuotas</strong>: Solo si seleccionaste cuotas</li>
                            <li><strong>Notas</strong>: Observaciones adicionales (opcional)</li>
                        </ul>
                    </li>
                    <li>Usa los <strong>botones de montos sugeridos</strong> para agregar rÃ¡pido (+1.000, +5.000, etc.)</li>
                    <li>Haz clic en <strong>"Agregar"</strong></li>
                </ol>
            </div>

            <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
                <p class="text-yellow-900">
                    <strong>âš ï¸ Importante:</strong> Los botones de monto sugerido se ajustan automÃ¡ticamente segÃºn tu moneda configurada (CLP, USD, BRL).
                </p>
            </div>
            
            <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded mt-4">
                <h3 class="font-bold text-green-900 mb-2">ğŸ“ Archivos Adjuntos (Opcional)</h3>
                <p class="text-gray-700 mb-2">
                    Puedes adjuntar archivos al crear una deuda:
                </p>
                <ul class="list-disc list-inside space-y-1 text-gray-700 ml-4">
                    <li><strong>Comprobantes:</strong> Tickets, recibos, etc.</li>
                    <li><strong>PDFs de contratos:</strong> Acuerdos escritos</li>
                    <li><strong>Capturas de pantalla:</strong> Conversaciones, transferencias</li>
                    <li><strong>Formatos permitidos:</strong> PDF, PNG, JPG, JPEG, DOC, DOCX, TXT</li>
                    <li><strong>TamaÃ±o mÃ¡ximo:</strong> 16MB por archivo</li>
                </ul>
                <p class="text-gray-700 mt-2">
                    Los archivos se organizan automÃ¡ticamente y puedes descargarlos en cualquier momento.
                </p>
            </div>
        </div>
    </section>

    <!-- SecciÃ³n: Evidencias de Pago -->
    <section id="evidencias" class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sm:p-8 mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
            <span class="text-3xl">ğŸ“„</span> Evidencias de Pago
        </h2>
        <div class="space-y-4">
            <p class="text-gray-700">
                Puedes adjuntar evidencias de pago en cualquier momento durante el seguimiento de una deuda.
            </p>
            
            <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded">
                <h3 class="font-bold text-purple-900 mb-2">ğŸ“ Para adjuntar evidencias:</h3>
                <ol class="list-decimal list-inside space-y-2 text-gray-700">
                    <li>Ve al detalle del deudor</li>
                    <li>Encuentra la deuda correspondiente</li>
                    <li>Haz clic en el botÃ³n <strong>"Adjuntar Evidencia"</strong> (morado)</li>
                    <li>Selecciona uno o mÃ¡s archivos (comprobantes de transferencia, fotos de pagos, etc.)</li>
                    <li>Haz clic en <strong>"Subir Archivos"</strong></li>
                </ol>
            </div>

            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                <h3 class="font-bold text-blue-900 mb-2">ğŸ’¡ Ventajas:</h3>
                <ul class="list-disc list-inside space-y-1 text-gray-700">
                    <li><strong>Respaldo:</strong> MantÃ©n evidencia de todos los pagos recibidos</li>
                    <li><strong>OrganizaciÃ³n:</strong> Archivos separados por deuda automÃ¡ticamente</li>
                    <li><strong>Accesibilidad:</strong> Descarga cuando necesites verificar</li>
                    <li><strong>Contador visible:</strong> Ve cuÃ¡ntos documentos tiene cada deuda</li>
                    <li><strong>En PDFs:</strong> Los reportes muestran cantidad de archivos adjuntos</li>
                </ul>
            </div>
            
            <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
                <p class="text-yellow-900">
                    <strong>ğŸ”’ Seguridad:</strong> Solo tÃº puedes ver y descargar los archivos de tus deudas. Los archivos estÃ¡n organizados en carpetas privadas por usuario.
                </p>
            </div>
        </div>
    </section>

    <!-- SecciÃ³n: Sistema de Cuotas -->
    <section id="cuotas" class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sm:p-8 mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
            <span class="text-3xl">ğŸ“Š</span> Sistema de Cuotas
        </h2>
        <div class="space-y-4">
            <p class="text-gray-700">
                El sistema de cuotas te permite hacer seguimiento de deudas que se pagan en partes iguales.
            </p>

            <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded">
                <h3 class="font-bold text-purple-900 mb-2">ğŸ”¢ Â¿CÃ³mo funcionan las cuotas?</h3>
                <ul class="list-disc list-inside space-y-2 text-gray-700">
                    <li>Divide el monto total en partes iguales automÃ¡ticamente</li>
                    <li>Muestra una barra de progreso visual</li>
                    <li>Permite marcar cuotas como pagadas una a una</li>
                    <li>Calcula el monto restante automÃ¡ticamente</li>
                </ul>
            </div>

            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                <h3 class="font-bold text-blue-900 mb-2">ğŸ“ Ejemplo prÃ¡ctico:</h3>
                <p class="text-gray-700 mb-2">
                    Si prestas <strong>$100.000</strong> en <strong>5 cuotas</strong>:
                </p>
                <ul class="list-disc list-inside space-y-1 text-gray-700 ml-4">
                    <li>Cada cuota = $20.000</li>
                    <li>Cuando marques 1 cuota pagada â†’ Resta $20.000</li>
                    <li>Cuando marques 2 cuotas pagadas â†’ Resta $40.000</li>
                    <li>Y asÃ­ sucesivamente...</li>
                </ul>
            </div>

            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded mt-4">
                <h3 class="font-bold text-blue-900 mb-2">âœ… Pagar cuotas:</h3>
                <ol class="list-decimal list-inside space-y-2 text-gray-700">
                    <li>Ve al detalle del deudor</li>
                    <li>Encuentra la deuda con cuotas</li>
                    <li>Haz clic en <strong>"Pagar Cuota"</strong></li>
                    <li>La barra de progreso se actualizarÃ¡ automÃ¡ticamente</li>
                    <li>Cuando todas las cuotas estÃ©n pagadas, la deuda se marcarÃ¡ como completada</li>
                </ol>
            </div>
        </div>
    </section>

    <!-- SecciÃ³n: KPIs -->
    <section id="kpis" class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sm:p-8 mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
            <span class="text-3xl">ğŸ“ˆ</span> Entender los KPIs
        </h2>
        <div class="space-y-4">
            <p class="text-gray-700 mb-4">
                En la parte superior del Dashboard verÃ¡s 4 indicadores clave (KPIs) que te dan una visiÃ³n general de tu situaciÃ³n:
            </p>

            <!-- KPI 1 -->
            <div class="border-l-4 border-red-500 bg-red-50 p-4 rounded">
                <h3 class="font-bold text-red-900 mb-2 flex items-center gap-2">
                    ğŸ”´ Total Por Cobrar
                </h3>
                <p class="text-gray-700">
                    <strong>Â¿QuÃ© es?</strong> La suma de TODAS las deudas registradas (sin importar si han pagado algo o no).
                </p>
                <p class="text-gray-700 mt-2">
                    <strong>Ejemplo:</strong> Si tienes 3 deudas de $10.000, $20.000 y $30.000, este indicador mostrarÃ¡ $60.000.
                </p>
            </div>

            <!-- KPI 2 -->
            <div class="border-l-4 border-green-500 bg-green-50 p-4 rounded">
                <h3 class="font-bold text-green-900 mb-2 flex items-center gap-2">
                    ğŸŸ¢ Total Cobrado
                </h3>
                <p class="text-gray-700">
                    <strong>Â¿QuÃ© es?</strong> La suma de todo el dinero que ya te han pagado.
                </p>
                <p class="text-gray-700 mt-2">
                    <strong>Incluye:</strong> Deudas pagadas completamente + cuotas pagadas de deudas en progreso.
                </p>
            </div>

            <!-- KPI 3 -->
            <div class="border-l-4 border-blue-500 bg-blue-50 p-4 rounded">
                <h3 class="font-bold text-blue-900 mb-2 flex items-center gap-2">
                    ğŸ”µ Deudores
                </h3>
                <p class="text-gray-700">
                    <strong>Â¿QuÃ© es?</strong> El nÃºmero total de personas registradas como deudoras.
                </p>
                <p class="text-gray-700 mt-2">
                    <strong>Nota:</strong> Un deudor puede tener mÃºltiples deudas asociadas.
                </p>
            </div>

            <!-- KPI 4 -->
            <div class="border-l-4 border-yellow-500 bg-yellow-50 p-4 rounded">
                <h3 class="font-bold text-yellow-900 mb-2 flex items-center gap-2">
                    ğŸŸ¡ Deudores Activos
                </h3>
                <p class="text-gray-700">
                    <strong>Â¿QuÃ© es?</strong> CuÃ¡ntos deudores aÃºn tienen deudas pendientes (no han pagado todo).
                </p>
                <p class="text-gray-700 mt-2">
                    <strong>Ejemplo:</strong> Si tienes 5 deudores, pero 2 ya pagaron completamente, este indicador mostrarÃ¡ 3.
                </p>
            </div>
        </div>
    </section>

    <!-- SecciÃ³n: Buscador y Filtros -->
    <section id="buscador" class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sm:p-8 mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
            <span class="text-3xl">ğŸ”</span> Usar el Buscador y Filtros
        </h2>
        <div class="space-y-4">
            <p class="text-gray-700">
                El buscador te ayuda a encontrar deudores rÃ¡pidamente y ordenar tu lista segÃºn tus necesidades.
            </p>

            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                <h3 class="font-bold text-blue-900 mb-2">ğŸ” Buscar por Nombre</h3>
                <ol class="list-decimal list-inside space-y-2 text-gray-700">
                    <li>Escribe el nombre del deudor en el campo de bÃºsqueda</li>
                    <li>La bÃºsqueda no distingue mayÃºsculas de minÃºsculas</li>
                    <li>Puedes buscar por nombre parcial (ej: "Juan" encontrarÃ¡ "Juan PÃ©rez")</li>
                    <li>Haz clic en <strong>"Aplicar"</strong> para filtrar</li>
                </ol>
            </div>

            <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded">
                <h3 class="font-bold text-purple-900 mb-2">ğŸ“Š Opciones de Ordenamiento</h3>
                <ul class="space-y-2 text-gray-700">
                    <li><strong>A-Z</strong>: Orden alfabÃ©tico ascendente (Ana â†’ Zoe)</li>
                    <li><strong>Z-A</strong>: Orden alfabÃ©tico descendente (Zoe â†’ Ana)</li>
                    <li><strong>Deuda mayor</strong>: Muestra primero quien mÃ¡s debe</li>
                    <li><strong>Deuda menor</strong>: Muestra primero quien menos debe</li>
                </ul>
            </div>

            <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded">
                <p class="text-green-900">
                    <strong>ğŸ’¡ Consejo:</strong> Usa el botÃ³n <strong>"Limpiar"</strong> para volver a ver todos tus deudores sin filtros.
                </p>
            </div>
        </div>
    </section>

    <!-- SecciÃ³n: Exportar PDF -->
    <section id="exportar" class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sm:p-8 mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
            <span class="text-3xl">ğŸ“„</span> Exportar a PDF
        </h2>
        <div class="space-y-4">
            <p class="text-gray-700">
                CuentasClaras te permite exportar reportes profesionales en formato PDF.
            </p>

            <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded">
                <h3 class="font-bold text-purple-900 mb-2">ğŸ“‹ Exportar Deudor Individual</h3>
                <ol class="list-decimal list-inside space-y-2 text-gray-700">
                    <li>Ve al detalle de un deudor</li>
                    <li>Haz clic en el botÃ³n morado <strong>"Exportar a PDF"</strong></li>
                    <li>Se descargarÃ¡ un PDF con:
                        <ul class="list-disc list-inside ml-6 mt-2">
                            <li>InformaciÃ³n del deudor</li>
                            <li>Lista completa de sus deudas</li>
                            <li>Totales y estadÃ­sticas</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded">
                <h3 class="font-bold text-purple-900 mb-2">ğŸ“Š Exportar Reporte Completo</h3>
                <ol class="list-decimal list-inside space-y-2 text-gray-700">
                    <li>Desde el Dashboard, haz clic en <strong>"Exportar Todo a PDF"</strong></li>
                    <li>Se generarÃ¡ un reporte con:
                        <ul class="list-disc list-inside ml-6 mt-2">
                            <li>Resumen general de todos tus deudores</li>
                            <li>EstadÃ­sticas globales</li>
                            <li>Detalle de cada deudor con sus deudas</li>
                            <li>Fecha y hora del reporte</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
                <p class="text-yellow-900">
                    <strong>ğŸ“Œ Nota:</strong> Los PDFs respetan tu configuraciÃ³n de moneda y muestran todos los montos en el formato correcto.
                </p>
            </div>
        </div>
    </section>

    <!-- SecciÃ³n: Perfil -->
    <section id="perfil" class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sm:p-8 mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
            <span class="text-3xl">âš™ï¸</span> Configurar tu Perfil
        </h2>
        <div class="space-y-4">
            <p class="text-gray-700">
                Personaliza tu experiencia configurando tu perfil.
            </p>

            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                <h3 class="font-bold text-blue-900 mb-2">ğŸ’± Cambiar Moneda</h3>
                <ol class="list-decimal list-inside space-y-2 text-gray-700">
                    <li>Ve a <strong>Perfil</strong> desde el menÃº superior</li>
                    <li>Selecciona tu moneda preferida:
                        <ul class="list-disc list-inside ml-6 mt-2">
                            <li><strong>CLP</strong>: Peso Chileno ($)</li>
                            <li><strong>USD</strong>: DÃ³lar Estadounidense ($)</li>
                            <li><strong>BRL</strong>: Real BrasileÃ±o (R$)</li>
                        </ul>
                    </li>
                    <li>Haz clic en <strong>"Actualizar"</strong></li>
                    <li>Todos los montos se mostrarÃ¡n en tu moneda seleccionada</li>
                </ol>
            </div>

            <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded">
                <p class="text-green-900">
                    <strong>ğŸ’¡ Consejo:</strong> Los botones de monto sugerido en "Agregar Deuda" se ajustan automÃ¡ticamente a tu moneda.
                </p>
            </div>
        </div>
    </section>

    <!-- Contacto y Soporte -->
    <div class="bg-gradient-to-r from-green-500 to-blue-500 rounded-xl p-8 text-center text-white">
        <h2 class="text-2xl font-bold mb-4">Â¿Necesitas mÃ¡s ayuda?</h2>
        <p class="text-lg mb-6">
            Si tienes preguntas adicionales o encuentras algÃºn problema, no dudes en contactarnos.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="{{ url_for('main.dashboard') }}" 
               class="bg-white hover:bg-gray-100 text-green-600 px-8 py-3 rounded-lg font-bold transition duration-200">
                Volver al Dashboard
            </a>
            <a href="{{ url_for('main.index') }}" 
               class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-8 py-3 rounded-lg font-bold transition duration-200">
                Ir al Inicio
            </a>
        </div>
    </div>
</div>

<!-- BotÃ³n flotante para volver arriba -->
<button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" 
        class="fixed bottom-6 right-6 bg-green-600 hover:bg-green-700 text-white p-4 rounded-full shadow-lg transition duration-200">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
    </svg>
</button>
{% endblock %}
